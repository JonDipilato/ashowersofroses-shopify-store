<section class="section-shell">
  <div class="page-width">
    <h1 class="section-heading">Your cart</h1>

    {% if cart.item_count == 0 %}
      <div class="empty-state" style="margin-top: 1.4rem; text-align: center; padding: 2.5rem 1rem;">
        <p>Your cart is empty</p>
        <a href="/collections/all" class="btn btn-primary" style="margin-top: 1rem;">Start shopping</a>
      </div>
    {% else %}
      <form action="{{ routes.cart_url }}" method="post" class="cart-form" style="margin-top: 1.4rem;">
        <div class="cart-items">
          {% for item in cart.items %}
            <div class="cart-line">
              <a href="{{ item.url }}" class="cart-line__image-wrap">
                {% if item.image %}
                  {{ item.image | image_url: width: 200 | image_tag: loading: 'lazy', class: 'cart-line__image', alt: item.image.alt | escape }}
                {% endif %}
              </a>
              <div class="cart-line__details">
                <h3 class="cart-line__title">
                  <a href="{{ item.url }}">{{ item.product.title }}</a>
                </h3>
                {% if item.variant.title != 'Default Title' %}
                  <p class="cart-line__variant">{{ item.variant.title }}</p>
                {% endif %}
                <div class="cart-line__bottom">
                  <div class="cart-line__qty-wrap">
                    <label class="visually-hidden" for="qty-{{ item.key }}">Quantity</label>
                    <input
                      class="cart-line__qty"
                      type="number"
                      id="qty-{{ item.key }}"
                      name="updates[{{ item.key }}]"
                      value="{{ item.quantity }}"
                      min="0"
                      aria-label="Quantity for {{ item.product.title }}"
                    >
                  </div>
                  <span class="cart-line__price">{{ item.final_line_price | money }}</span>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>

        <div class="cart-footer">
          <button type="submit" class="btn btn-secondary" name="update" style="justify-self: start;">Update cart</button>
          <div class="cart-footer__totals">
            <div class="cart-footer__subtotal">
              <span>Subtotal</span>
              <span>{{ cart.total_price | money }}</span>
            </div>
            <p class="cart-footer__note">Shipping and taxes calculated at checkout.</p>
            <button type="submit" name="checkout" class="btn btn-primary btn-wide">Checkout</button>
          </div>
        </div>
      </form>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Cart",
  "settings": []
}
{% endschema %}
